<%= form_with(model: fermentable_addition, local: true) do |form| %>
  <% if fermentable_addition.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(fermentable_addition.errors.count, "error") %> prohibited this fermentable_addition from being saved:</h2>

      <ul>
      <% fermentable_addition.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= form.label :recipe_id %>
    <%= form.collection_select :recipe_id, Recipe.all, :id, :name, {} %>
  </div>

  <div class="field">
    <%= form.label :fermentable_id %>
    <%= form.collection_select :fermentable_id, Fermentable.all, :id, :name, {} %>
  </div>

  <div class="field">
    <%= form.label :amount %>
    <%= form.number_field :amount %>
    Kilograms
  </div>

  <div class="field">
    <%= form.label :time_unit %>
    <%= form.select :time_unit, FermentableAddition.time_units.keys.map { |tu| [tu.titleize, tu] }%>
  </div>

  <div class="field">
    <%= form.label :time %>
    <%= form.number_field :time %>
  </div>

  <div class="field">
    <%= form.label :duration_unit %>
    <%= form.select :duration_unit, FermentableAddition.duration_units.keys.map { |du| [du.titleize, du] }%>
  </div>

  <div class="field">
    <%= form.label :duration %>
    <%= form.number_field :duration %>
  </div>

  <div class="field">
    <%= form.label :step %>
    <%= form.number_field :step %>
  </div>

  <div class="field">
    <%= form.label :use %>
    <%= form.select :use, FermentableAddition.uses.keys.map { |u| [u.titleize, u] }%>
  </div>

  <div class="actions">
    <%= form.submit %>
  </div>
<% end %>
